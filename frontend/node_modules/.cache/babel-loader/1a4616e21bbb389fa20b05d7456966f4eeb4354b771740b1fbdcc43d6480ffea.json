{"ast":null,"code":"import _objectSpread from\"D:/MERN STACK/IT_Project_2025/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React from'react';import'./LoginPage.css';import loginImage from'../images/user-login-png.png';// Assuming you have a CSS file for styling\nimport NavBar from'../NavBar/navBar';// Importing the NavBar component\nimport Footer from'../Footer/Footer';// Importing the Footer component\nimport axios from'axios';import{useState}from'react';import{useNavigate}from'react-router-dom';// Importing useNavigate for navigation\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function LoginPage(){const history=useNavigate();const[error,setError]=useState(false);const[user,setUser]=useState({username:'',password:''});const handleChange=e=>{const{name,value}=e.target;setUser(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));setError(false);};const sendRequest=async()=>{try{const response=await axios.post(\"http://localhost:5000/login\",{username:user.username,password:user.password});return response.data;}catch(error){console.error('Login request failed:',error);throw error;}};const handleSubmit=async e=>{e.preventDefault();try{const response=await sendRequest();if(response.status===\"ok\"){localStorage.setItem(\"username\",user.username);// or sessionStorage\nsetError(false);history('/viewDetails');}else{setError(true);}}catch(error){console.error('Login failed:',error);setError(true);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"loginPage-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"login-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Welcome Back!\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Please login to continue\"}),/*#__PURE__*/_jsx(\"img\",{className:\"loginImage\",src:loginImage,alt:\"Login Illustration\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"login-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Login\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:\"Username:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"username\",name:\"username\",value:user.username,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",name:\"password\",value:user.password,onChange:handleChange,required:true})]}),error&&/*#__PURE__*/_jsx(\"small\",{className:\"error-message\",children:\"Invalid username or password\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Login\"}),/*#__PURE__*/_jsxs(\"small\",{className:\"register-link\",children:[\"Don't have an account? \",/*#__PURE__*/_jsx(\"a\",{href:\"/register\",children:\"Register here\"})]})]})]})]}),/*#__PURE__*/_jsx(Footer,{})]});}export default LoginPage;","map":{"version":3,"names":["React","loginImage","NavBar","Footer","axios","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","LoginPage","history","error","setError","user","setUser","username","password","handleChange","e","name","value","target","prev","_objectSpread","sendRequest","response","post","data","console","handleSubmit","preventDefault","status","localStorage","setItem","className","children","src","alt","onSubmit","htmlFor","type","id","onChange","required","href"],"sources":["D:/MERN STACK/IT_Project_2025/frontend/src/Components/Login_Register/Login.js"],"sourcesContent":["import React from 'react'\r\nimport './LoginPage.css';\r\nimport loginImage from '../images/user-login-png.png'; // Assuming you have a CSS file for styling\r\nimport NavBar from '../NavBar/navBar'; // Importing the NavBar component\r\nimport Footer from '../Footer/Footer'; // Importing the Footer component\r\nimport axios from 'axios';\r\nimport { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom'; // Importing useNavigate for navigation\r\n\r\nfunction LoginPage() {\r\n\r\n  const history = useNavigate();\r\n  const [error, setError] = useState(false);\r\n  const [user, setUser] = useState({\r\n    username: '',\r\n    password: '',\r\n  });\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setUser((prev) => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n    setError(false);\r\n  };\r\n\r\n\r\n  const sendRequest = async () => {\r\n    try {\r\n      const response = await axios.post(\"http://localhost:5000/login\", {\r\n        username: user.username,\r\n        password: user.password\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Login request failed:', error);\r\n      throw error;\r\n    }\r\n  };\r\n\r\n\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const response = await sendRequest();\r\n      if (response.status === \"ok\") {\r\n        localStorage.setItem(\"username\", user.username); // or sessionStorage\r\n        setError(false);\r\n        history('/viewDetails');\r\n      } else {  \r\n        setError(true);\r\n      }\r\n    } catch (error) {\r\n      console.error('Login failed:', error);\r\n      setError(true);\r\n    }\r\n  };\r\n\r\n\r\n    return (\r\n      <div className=\"container\">\r\n        <NavBar />\r\n        <div className=\"loginPage-container\">\r\n\r\n          <div className=\"login-header\">\r\n            <h1>Welcome Back!</h1>\r\n            <p>Please login to continue</p>\r\n            <img className='loginImage' src={loginImage} alt=\"Login Illustration\" />\r\n          </div>\r\n\r\n          <div className=\"login-container\">\r\n            <h2>Login</h2>\r\n            <form onSubmit={handleSubmit}>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"username\">Username:</label>\r\n                <input type=\"text\" id=\"username\" name=\"username\" value={user.username} onChange={handleChange} required />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"password\">Password:</label>\r\n                <input type=\"password\" id=\"password\" name=\"password\" value={user.password} onChange={handleChange} required />\r\n              </div>\r\n              {error && (\r\n                <small className=\"error-message\">\r\n                  Invalid username or password\r\n                </small>\r\n              )}\r\n              <button type=\"submit\">Login</button>\r\n              <small className=\"register-link\" >\r\n                Don't have an account? <a href=\"/register\">Register here</a>\r\n              </small>\r\n            </form>\r\n          </div>\r\n        </div>\r\n        <Footer />\r\n      </div>\r\n\r\n\r\n    )\r\n  }\r\n\r\n  export default LoginPage"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}